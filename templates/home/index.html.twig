{# templates/usuarios/lista.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Lista de empleados{% endblock %}

{% block body %}
    <div id="app">
        <h1>Lista de empleados</h1>
        
        <div v-if="cargando">Cargando...</div>
        
        <div v-else>
            <table style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr>
                        <th style="border: 1px solid #ddd; padding: 8px;">ID</th>
                        <th style="border: 1px solid #ddd; padding: 8px;">Nombre</th>
                        <th style="border: 1px solid #ddd; padding: 8px;">Posici√≥n</th>
                        <th style="border: 1px solid #ddd; padding: 8px;"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="employee in employees" :key="employee.id">
                        <td style="border: 1px solid #ddd; padding: 8px;">{{ "{{ employee.id }}" }}</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">{{ "{{ employee.name }}" }}</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">{{ "{{ employee.position }}" }}</td>
                        <td style="border: 1px solid #ddd; padding: 8px;">
                        <a :href="`/calendar/${employee.id}`" class="btn btn-primary">
                            Ver calendar
                        </a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div v-if="error" style="color: red; margin-top: 10px;">
            {{ "{{ error }}" }}
        </div>
    </div>
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script>
        initEmployeesApp({ employees: '{{ path('employees_datos') }}'});
    </script>
{% endblock %}

